<div class="right-align">
  <a class="btn-floating btn-large waves-effect waves squizer-btn" (click)="openNewQuestionModal(); $event.stopPropagation();">
    <i class="material-icons">add</i></a>
</div>

<div id="newQuestionModal{{chapter.id}}" class="modal modal-fixed-footer"
  materialize="modal" [materializeActions]="newQuestionModal"
  [materializeParams]="[{dismissible: false}]">
  <form [formGroup]="newQuestion" (ngSubmit)="onSubmit()" novalidate>
    <div class="modal-content">
      <h4>Crear pregunta</h4>
        <div class="row">
          <div class="input-field">
            <label for="title_question">Titulo pregunta</label>
            <input type="text" formControlName="title" materialize="characterCounter" [attr.data-length]="maxLengthQuestion">
          </div>
        </div>
        <!--answers-->
        <div class="row">
          <fieldset>
            <legend><b> Respuestas </b></legend>
            <div formArrayName="answers">
              <div *ngFor="let answer of answers.controls; let i=index" [formGroupName]="i">
                <div class="row">
                  <div class="col s1">
                    <span *ngIf="i == 0" style="position:absolute; padding-left: 2%;">V/F</span>
                    <p class="checkbox">
                      <input type="checkbox" class="center-align filled-in checkbox-squizer" [id]="chapter.id + 'cb' + i" formControlName="correct"/>
                      <label [for]="chapter.id + 'cb' + i"></label>
                    </p>
                  </div>
                  <div class="input-field col s11">
                    <label for="title">Respuesta {{i+1}}</label>
                    <input type="text" formControlName="title" materialize="characterCounter" [attr.data-length]="maxLengthAnswer"/>
                    <a *ngIf="answers.controls.length > 4" (click)="removeAnswer(i)">
                      <img class="ic-remove" src="../../assets/icons/ic_remove.svg" alt="remove answer"></a>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="right-align">
                <a class="btn-floating btn-large waves-effect waves squizer-btn" (click)="addAnswer()">
                  <i class="material-icons">add</i>
                </a>
              </div>
            </div>
          </fieldset>
        </div>
    </div>
    <div class="modal-footer">
      <a class="modal-action modal-close waves-effect btn-flat" (click)="revert()">Cancelar</a>
      <button class=" modal-action modal-close waves-effect btn squizer-btn" type="submit" [disabled]="!newQuestion.valid">Crear</button>
    </div>
  </form>
</div>
