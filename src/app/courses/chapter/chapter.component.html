<ul class="collapsible" data-collapsible="accordion">
  <li class="hoverable onHover">
    <!-- Header -->
    <div class="collapsible-header grey lighten-4">
      <strong>{{chapter.title}}</strong>
      <div class="right">
        <a (click)="openEditChapterModal(); $event.stopPropagation()"><i class="material-icons icon-blue delete">edit</i></a>
        <a (click)="openDeleteChapterModal(); $event.stopPropagation()"><i class="material-icons icon-red delete">delete</i></a>
      </div>
    </div>
    <!-- Body -->
    <div class="collapsible-body">
      <div *ngFor="let question of chapter.questions">
        <question [question]="question" (onDeletedQuestion)="deleteQuestion(chapter, question)"></question>
      </div>
      <div class="right-align">
        <a class="btn-floating btn-large waves-effect waves squizer-btn" (click)="openNewQuestionModal(); $event.stopPropagation();">
          <i class="material-icons">add</i>
        </a>
      </div>
    </div>
  </li>
</ul>


<!-- Edit title Chapter -->
<div id="editChapterModal{{chapter.id}}" class="modal bottom-sheet">
  <div class="modal-content">
    <h4>Editar tema</h4>
    <form class="col s12">
      <div class="row">
        <div class="input-field">
          <input #chapterTitle type="text" class="validate" value="{{chapter.title}}">
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <a class=" modal-action modal-close waves-effect btn squizer-btn" (click)="updateChapterTitle(chapterTitle.value)">Guardar</a>
  </div>
</div>

<new-question-modal [chapter]="chapter"></new-question-modal>

<delete-modal (onDeleted)="deleteChapter(chapter)" [id]="'deleteChapterModal'+chapter.id" [title]="chapter.title"></delete-modal>
